---
title: 日志管理
date: 2025-03-07 19:48:29
tags:
categories: Linux
---

## 日志简介

### 日志相关服务

在CentOS 6.x中日志服务已经由rsyslogd取代了原先的syslogd服务。Redhat认为syslogd已经不能满足在工作中的需求，rsyslogd相比syslogd具有一些新的特点：

- 基于TCP网络协议传输日志信息；
- 更安全的网络传输方式；
- 有日志消息的及时分析框架；
- 后台数据库；
- 配置文件中可以写简单的逻辑判断；
- 与syslog配置文件相兼容。



### 系统中常见的日志文件

| 日志文件         | 说明                                                         |
| ---------------- | ------------------------------------------------------------ |
| /var/log/cron    | 记录了系统定时任务相关的日志。                               |
| /var/log/cups/   | 记录打印信息的日志。                                         |
| /var/log/dmesg   | 记录了系统在开机时内核自检的信息。也可以使用dmesg命令直接查看内核自检信息。 |
| /var/log/btmp    | 记录错误登录的日志。这个文件是二进制文件，不能直接vim查看，而要使用lastb命令查看。 |
| /var/log/lastlog | 记录系统中所有用户最后一次登录时间的日志。这个文件也是二进制文件，不能直接vim查看，而要使用lastlog命令查看。 |
| /var/log/mailog  | 记录邮件信息。                                               |
| /var/log/message | 记录系统重要信息的日志。这个日志文件中会记录Linux系统的绝大多数重要信息，如果系统出现问题时，首先要检查的就应该是这个日志文件。 |
| /var/log/secure  | 记录验证和授权方面的信息，只要涉及账户和密码的程序都会记录。比如说系统的登录，ssh的登录，su切换用户，sudo授权，甚至添加用户和修改用户密码都会记录在这个日志文件中。 |
| /var/log/wtmp    | 永久记录所有用户的登录、注销信息，同时记录系统的启动、重启、关机事件。同样这个文件也是一个二进制文件，不能直接vim，而需要使用last命令来查看。 |
| /var/run/utmp    | 记录当前已经登录的用户的信息。这个文件会随着用户的登录和注销而不断变化，只记录当前登录用户的信息。同样这个文件不能直接vim，而要使用w,who,users等命令来查询。 |

